{
  "name": "htmlclean",
  "description": "Simple and lightweight cleaner for HTML that just removes unneeded whitespaces, line-breaks, comments, etc.",
  "version": "2.0.2",
  "homepage": "https://github.com/anseki/htmlclean",
  "author": {
    "name": "anseki"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/anseki/htmlclean.git"
  },
  "bugs": {
    "url": "https://github.com/anseki/htmlclean/issues"
  },
  "licenses": [
    {
      "type": "MIT",
      "url": "https://github.com/anseki/htmlclean/blob/master/LICENSE-MIT"
    }
  ],
  "main": "./lib/htmlclean.js",
  "engines": {
    "node": ">= 0.8.0"
  },
  "keywords": [
    "html",
    "clean",
    "whitespace",
    "line break",
    "comment",
    "minify",
    "remove space",
    "lightweight"
  ],
  "readme": "# htmlclean\n\nSimple and lightweight cleaner for HTML that just removes unneeded whitespaces, line-breaks, comments, etc.\n\n[HtmlCompressor](http://code.google.com/p/htmlcompressor/), [HTMLMinifier](https://github.com/kangax/html-minifier) and others are better choice if you want to control details of editing.  \nThose configuring are a little pain in the neck for me. And the results was not what I need. So, I wrote htmlclean. This removes unneeded whitespaces, line-breaks, comments, etc. That's all.\n\n## Removing\nhtmlclean removes the following texts.\n\n+ The leading whitespaces, tabs and line-breaks, and the trailing whitespaces, tabs and line-breaks.\n+ The unneeded whitespaces, tabs and line-breaks between HTML tags.\n+ The more than two whitespaces, tabs and line-breaks (suppressed to one space).\n+ HTML comments.\n\nThe more than two whitespaces in a line that includes HTML tags are suppressed.\n\n**Example:**\n\nBefore\n\n```html\n<p>The <strong> clean <span> <em> HTML is here. </em> </span> </strong> </p>\n```\n\nAfter\n\n```html\n<p>The <strong>clean <span><em>HTML is here.</em></span></strong></p>\n```\n\n## Protecting\nThe following texts are protected (excluded from removing).\n\n+ The texts in `textarea`, `script` and `style` elements, and text nodes in `pre` elements.\n+ The quoted texts in tag attribute.\n+ Apache SSI tags.\n+ IE conditional comments. e.g. `<!--[if lt IE 7]>`\n+ The texts between `<!--[htmlclean-protect]-->` and `<!--[/htmlclean-protect]-->`.\n+ The texts that is matched by `protect` option (see \"Options\").\n\n## Installation\n\n```\nnpm install -g htmlclean\n```\n\n## Usage\n\n```js\ncleanHtml = htmlclean(sourceHtml[, options])\n```\n\n`require('htmlclean')` returns a Function. This Function accepts source HTML, and returns clean HTML. If you want, you can specify option to second argument.\n\n```js\nvar htmlclean = require('htmlclean');\nhtml = htmlclean(html);\n\n// Or\nhtml = require('htmlclean')(html);\n```\n\n### Options\nYou can specify option Object to second argument. This Object can have following properties.\n\n+ <strong>`protect` Type: RegExp or Array</strong>  \nThe texts which are matched to this RegExp are protected in addition to above \"Protecting\" list. The multiple RegExps can be specified via Array.\n\n+ <strong>`edit` Type: Function</strong>  \nThis Function more edit HTML.  \nThe protected texts are hidden from HTML, and HTML is passed to this Function. Therefore, this Function doesn't break protected texts. The HTML which returned from this Function is restored.  \n*NOTE:* Markers `\\fID\\f` (`ID` is number) are inserted to HTML instead of protected texts. This Function can remove these markers, but can't add new markers. (Invalid markers will be just removed.)\n\n## Example\n\n```js\nvar htmlclean = require('htmlclean'),\n  fs = require('fs'),\n  htmlBefore = fs.readFileSync('./before.html', {encoding: 'utf8'});\n\nvar htmlAfter1 = htmlclean(htmlBefore);\nfs.writeFileSync('./after1.html', htmlAfter1);\n\nvar htmlAfter2 = htmlclean(htmlBefore, {\n  protect: /<\\!--%fooTemplate\\b.*?%-->/g,\n  edit: function(html) { return html.replace(/\\begg(s?)\\b/ig, 'omelet$1'); }\n});\nfs.writeFileSync('./after2.html', htmlAfter2);\n```\n\n`before.html`\n\n```html\n\n\t\t\n  \n<html>\n<!-- The whitespaces, tabs and line-breaks before html tag will be removed. And this tag too. -->\n<body>\n<!--[if lt IE 7]>This line will be kept.<![endif]-->\n\n<p>The more    than two\nwhitespaces,\ttabs and\n\n line-breaks\n \t\t\n \t\twill be suppressed to one space.</p>\n\n    <p>\n        <em>\n            <i>\n            The\n            </i>\n            <font>\n                <i>\n                clean\n                </i>\n                HTML\n            </font>\n        </em>\n        is here.\n    </p>\n<p>The <strong> clean <span> <em> HTML is here. </em> </span> </strong> </p>\n\n\n<!-- Commented out HTML\n  <div>foo<span>bar</span></div>\n  <p>foo bar</p>\n-->\n\n<script>\nvar foo =    'The text in    script element' +\n\t\t\t\t\t' will be\t\tkept.';\n</script>\n\n<div    title=\"The whitespaces before 'title' will be suppressed to one space. This  text     will be \nkept.\">The tabs and</div>\n\t<div>line-breaks between HTML tags will be removed.</div>\n\n<div><span>'</span> <span>'</span> is one space(this will be kept).</div>\n\n<div><!--#echo var=\"LAST_MODIFIED\" -->Apache SSI tag will be kept.</div>\n\n<div><!--[htmlclean-protect]-->Here, \ntext will     be kept.<!--[/htmlclean-protect]--></div>\n\n<!-- These are protected by option -->\n<div><!--%fooTemplate-head%--></div>\n<div><!--%fooTemplate-content%--></div>\n\n<div title=\"This egg is protected.\">These Eggs are unprotected.</div>\n\n</body>\n<!-- The whitespaces, tabs and line-breaks after html close-tag will be removed. And this tag too. -->\n</html>\n\n\t\t\n  \n```\n\n`after1.html`\n\n```html\n<html><body><!--[if lt IE 7]>This line will be kept.<![endif]--><p>The more than two whitespaces, tabs and line-breaks will be suppressed to one space.</p><p> <em><i>The</i> <font><i>clean</i> HTML</font></em> is here.</p><p>The <strong>clean <span><em>HTML is here.</em></span></strong></p><script>\nvar foo =    'The text in    script element' +\n\t\t\t\t\t' will be\t\tkept.';\n</script><div title=\"The whitespaces before 'title' will be suppressed to one space. This  text     will be \nkept.\">The tabs and</div><div>line-breaks between HTML tags will be removed.</div><div><span>'</span> <span>'</span> is one space(this will be kept).</div><div><!--#echo var=\"LAST_MODIFIED\" -->Apache SSI tag will be kept.</div><div>Here, \ntext will     be kept.</div><div></div><div></div><div title=\"This egg is protected.\">These Eggs are unprotected.</div></body></html>\n```\n\n`after2.html`\n\n```html\n<html><body><!--[if lt IE 7]>This line will be kept.<![endif]--><p>The more than two whitespaces, tabs and line-breaks will be suppressed to one space.</p><p> <em><i>The</i> <font><i>clean</i> HTML</font></em> is here.</p><p>The <strong>clean <span><em>HTML is here.</em></span></strong></p><script>\nvar foo =    'The text in    script element' +\n\t\t\t\t\t' will be\t\tkept.';\n</script><div title=\"The whitespaces before 'title' will be suppressed to one space. This  text     will be \nkept.\">The tabs and</div><div>line-breaks between HTML tags will be removed.</div><div><span>'</span> <span>'</span> is one space(this will be kept).</div><div><!--#echo var=\"LAST_MODIFIED\" -->Apache SSI tag will be kept.</div><div>Here, \ntext will     be kept.</div><div><!--%fooTemplate-head%--></div><div><!--%fooTemplate-content%--></div><div title=\"This egg is protected.\">These omelets are unprotected.</div></body></html>\n```\n\n## Release History\n * 2014-06-14\t\t\tv2.0.2\t\t\tAdd `<!-->`, `<!--<![` and others to protected texts.\n * 2014-06-11\t\t\tv2.0.1\t\t\tFix: Comment tags that include other tags are not removed.\n * 2013-11-06\t\t\tv2.0.0\t\t\tChange logic of handling whitespaces and others.\n * 2013-08-27\t\t\tv0.1.0\t\t\tInitial release.\n",
  "readmeFilename": "README.md",
  "_id": "htmlclean@2.0.2",
  "_shasum": "4899b9f869a9f624f7706fc092e4c34e755079c9",
  "_from": "htmlclean@~2.0.0",
  "_resolved": "https://registry.npmjs.org/htmlclean/-/htmlclean-2.0.2.tgz"
}
